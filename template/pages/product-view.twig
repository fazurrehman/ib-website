{% extends "../layouts/default.twig" %}
{% set pageClass = "page-product" %}
{% set pageTitle = "Product Page" %}

{% block content %}

<div class="container-wrap ib-container">
	<div class="section-gallery">
		<div class="section-gallery__desktop">
			<div class="section-gallery__desktop-view">

			</div>
		</div>
	</div>
	<div class="section-sidebar">
		{% include "../pages/comps/productpage-comps.twig" %}
	</div>
</div>


{% endblock %}
{% block included_content %}
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="js/homepage-v2.min.js"></script>
	<script>
		var $el, $ps, $up, totalHeight;
		$(".sidebar-box .button").click(function() {
			totalHeight = 0
			$el = $(this);
			$p  = $el.parent();
			$up = $p.parent();
			$ps = $up.find("p:not('.read-more')");

			// measure how tall inside should be by adding together heights of all inside paragraphs (except read-more paragraph)
			$ps.each(function() {
				totalHeight += $(this).outerHeight();
			});
			$up
							.css({
								// Set height to prevent instant jumpdown when max height is removed
								"height": $up.height(),
								"max-height": 9999
							})
							.animate({
								"height": totalHeight
							});

			// fade out read-more
			$p.fadeOut();

			// prevent jump-down
			return false;

		});
	</script>
{% endblock %}